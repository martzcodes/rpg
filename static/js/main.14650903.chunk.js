(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,a,t){e.exports=t(154)},121:function(e,a,t){},122:function(e,a,t){},154:function(e,a,t){"use strict";t.r(a);var n=t(19),r=t(0),c=t.n(r),i=t(9),l=t.n(i),o=(t(121),t(26)),s=t(22),m=(t(122),t(57)),u=t(3),d=t(155),p=t(205),g=t(206),h=t(207),f=t(203),E=t(108),b=t.n(E),v=t(109),y=t.n(v),O=t(52),x=t(36),w=t(193);function j(){return c.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with ",c.a.createElement("span",{role:"img","aria-label":"beer"},"\ud83c\udf7a"),", ",c.a.createElement("span",{role:"img","aria-label":"coffee"},"\u2615"),", and ",c.a.createElement("span",{role:"img","aria-label":"love"},"\ud83d\udc97")," by ",c.a.createElement(w.a,{color:"inherit",href:"https://linkedin.com/in/martzcodes/"},"martzcodes"),".")}var S=t(204),N=t(114),R=t(33),C=function(e,a,t){var n=JSON.stringify({content:t,username:a}),r={headers:{"Content-Type":"application/json"},method:"POST",body:n};console.log(n),fetch(e,r)},D=t(47),L=t(214),K=t(194),k=t(195),B=t(211),I=t(198),F=t(199),T=Object(d.a)(function(e){return Object(L.a)({container:{},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},description:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},dense:{marginTop:19},menu:{width:200},card:{}})}),z=Object(R.b)()(function(e){var a=e.dispatch,t=T(),r=c.a.useState({name:"",character:"",description:"",roll:""}),i=Object(o.a)(r,2),l=i[0],m=i[1],u=function(e){return function(a){console.log(e),m(Object(n.a)({},l,Object(s.a)({},e,a.target.value)))}};return c.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off",onSubmit:function(e){var t;e.preventDefault(),l.name.trim()&&(a({type:"ADD_ROLL",name:(t={name:l.name.trim(),roll:l.roll.trim(),character:l.character.trim(),description:l.description.trim()}).name,roll:t.roll,character:t.character,description:t.description}),m(Object(n.a)({},l,{name:"",description:"",roll:""})))}},c.a.createElement(K.a,{className:t.card},c.a.createElement(k.a,null,c.a.createElement(B.a,{id:"name",label:"Name",className:t.textField,value:l.name,onChange:u("name"),margin:"normal"}),c.a.createElement(B.a,{id:"character",label:"Character",className:t.textField,value:l.character,onChange:u("character"),margin:"normal"}),c.a.createElement(B.a,{id:"roll",label:"Roll",className:t.textField,value:l.roll,onChange:u("roll"),margin:"normal"}),c.a.createElement(B.a,{id:"description",label:"Description",className:t.description,value:l.description,onChange:u("description"),margin:"normal"})),c.a.createElement(I.a,null,c.a.createElement(F.a,{size:"small",color:"primary",type:"submit"},"Add Roll"))))}),_=t(158),P=t(200),W=t(201),V=t(202),J=t(106),M=t.n(J),A=function(e){var a=e.onClick,t=e.name,n=e.roll,r=e.character,i=e.description,l=e.onRemove;return c.a.createElement(_.a,{button:!0,onClick:a},c.a.createElement(P.a,{primary:"".concat(t,": ").concat(n),secondary:"".concat(r,": ").concat(i)}),c.a.createElement(W.a,null,c.a.createElement(V.a,{edge:"end","aria-label":"Delete",onClick:l},c.a.createElement(M.a,null))))},G=t(157),H=function(e){var a=e.rolls,t=e.sendRoll,n=e.removeRoll;return console.log(a),c.a.createElement(G.a,null,a.map(function(e){return c.a.createElement(A,Object.assign({key:e.id},e,{onClick:function(){return t(e.id)},onRemove:function(){return n(e.id)}}))}))},X=Object(R.b)(function(e){return{rolls:(a=e.rolls,a)};var a},function(e){return{sendRoll:function(a){return e(function(e){console.log(Ce.getState());var a=Ce.getState().discord,t=Ce.getState().rolls.findIndex(function(a){return a.id===e});if(a.apiKey&&-1!==t){var n=Ce.getState().rolls[t],r="".concat(n.description);if(n.roll){var c=(new D.Dice).roll(n.roll);r="".concat(n.description,": (").concat(n.roll,") ").concat(c.renderedExpression," = ").concat(c.total)}C(a.apiKey,n.character,r)}return{type:"SEND_ROLL",id:e}}(a))},removeRoll:function(a){return e(function(e){return{type:"REMOVE_ROLL",id:e}}(a))}}})(H),$=Object(d.a)(function(e){return Object(L.a)({container:{},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},description:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},dense:{marginTop:19},menu:{width:200},card:{}})}),q=function(){var e=$(),a=c.a.useState({target:"",character:"",description:"",roll:""}),t=Object(o.a)(a,2),r=t[0],i=t[1],l=function(e){return function(a){console.log(e),i(Object(n.a)({},r,Object(s.a)({},e,a.target.value)))}};return c.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),r.character.trim()){var a=Ce.getState().discord;if(a.apiKey){var t="".concat(r.description);if(r.roll){var n=(new D.Dice).roll(r.roll);t="".concat(r.description,": (").concat(r.roll,") ").concat(n.renderedExpression," = ").concat(n.total),r.target.trim()&&(t+=" against ".concat(r.target.trim()))}C(a.apiKey,r.character,t)}}}},c.a.createElement(K.a,{className:e.card},c.a.createElement(k.a,null,c.a.createElement(B.a,{id:"character",label:"Character",className:e.textField,value:r.character,onChange:l("character"),margin:"normal"}),c.a.createElement(B.a,{id:"roll",label:"Roll",className:e.textField,value:r.roll,onChange:l("roll"),margin:"normal"}),c.a.createElement(B.a,{id:"description",label:"Description",className:e.description,value:r.description,onChange:l("description"),margin:"normal"}),c.a.createElement(B.a,{id:"target",label:"Target",className:e.textField,value:r.target,onChange:l("target"),margin:"normal"})),c.a.createElement(I.a,null,c.a.createElement(F.a,{size:"small",color:"primary",type:"submit"},"Send to Discord"))))},Q=Object(d.a)(function(e){return{}});function U(){var e=Q();return c.a.createElement(f.a,{maxWidth:"lg",className:e.container},c.a.createElement(S.a,{container:!0,spacing:3},c.a.createElement(S.a,{item:!0,xs:12},c.a.createElement(q,null)),c.a.createElement(S.a,{item:!0,xs:12},c.a.createElement(z,null)),c.a.createElement(S.a,{item:!0,xs:12},c.a.createElement(N.a,{className:e.paper},c.a.createElement(X,null)))))}var Y=Object(d.a)(function(e){return Object(L.a)({container:{},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},dense:{marginTop:19},menu:{width:200},card:{}})}),Z=function(e){var a,t=e.onSave,r=e.apiKey,i=Y(),l=c.a.useState({apiKey:r}),m=Object(o.a)(l,2),u=m[0],d=m[1];return c.a.createElement("form",{className:i.container,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),t(u.apiKey)}},c.a.createElement(K.a,{className:i.card},c.a.createElement(k.a,null,c.a.createElement(B.a,{id:"apiKey",label:"API Key",className:i.textField,value:u.apiKey,onChange:(a="apiKey",function(e){console.log(a),d(Object(n.a)({},u,Object(s.a)({},a,e.target.value)))}),margin:"normal"})),c.a.createElement(I.a,null,c.a.createElement(F.a,{size:"small",color:"primary",type:"submit"},"Save"))))},ee=Object(R.b)(function(e){return{apiKey:e.discord.apiKey?e.discord.apiKey:""}},function(e){return{onSave:function(a){return e(function(e){return{type:"SET_DISCORD",apiKey:e}}(a))}}})(Z),ae=Object(d.a)(function(e){return{}});function te(){var e=ae();return c.a.createElement(f.a,{maxWidth:"lg",className:e.container},c.a.createElement(S.a,{container:!0,spacing:3},c.a.createElement(S.a,{item:!0,xs:12},c.a.createElement(ee,null))))}var ne=Object(d.a)(function(e){return Object(L.a)({container:{},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},description:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},dense:{marginTop:19},menu:{width:200},card:{}})}),re=function(){var e=ne(),a=c.a.useState({target:"",character:"",description:"",bonus:""}),t=Object(o.a)(a,2),r=t[0],i=t[1],l=function(e){return function(a){console.log(e),i(Object(n.a)({},r,Object(s.a)({},e,a.target.value)))}};return c.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),r.character.trim()){var a=(new D.Dice).roll("3d6"),t=a.reducedExpression.children.map(function(e){return e.attributes.value}),n=new Set(t),c=Number.parseInt(r.bonus,10),i=c<0?" - ":" + ",l="([".concat(t.join(", "),"]").concat(i).concat(Math.abs(c),") Rolled a ").concat(a.total+c).concat(n.size<=2?" with "+t[2]+" stunt points":"");console.log(l);var o=Ce.getState().discord;o.apiKey&&C(o.apiKey,r.character,l)}}},c.a.createElement(K.a,{className:e.card},c.a.createElement(k.a,null,c.a.createElement(B.a,{id:"character",label:"Character",className:e.textField,value:r.character,onChange:l("character"),margin:"normal"}),c.a.createElement(B.a,{id:"roll",label:"Bonus",className:e.textField,value:r.bonus,onChange:l("bonus"),margin:"normal"})),c.a.createElement(I.a,null,c.a.createElement(F.a,{size:"small",color:"primary",type:"submit"},"Roll"))))},ce=Object(d.a)(function(e){return{}});function ie(){var e=ce();return c.a.createElement(f.a,{maxWidth:"lg",className:e.container},c.a.createElement(S.a,{container:!0,spacing:3},c.a.createElement(S.a,{item:!0,xs:12},c.a.createElement(re,null))))}var le=t(111),oe=t.n(le),se=t(110),me=t.n(se),ue=t(112),de=t.n(ue),pe=t(213),ge=t(208),he=t(197),fe=t(209),Ee=t(210),be=Object(d.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(n.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(s.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}),ve=function(){var e=be(),a=c.a.useState(!1),t=Object(o.a)(a,2),n=t[0],r=t[1];return c.a.createElement(O.a,null,c.a.createElement("div",{className:e.root},c.a.createElement(p.a,null),c.a.createElement(g.a,{position:"absolute",className:Object(u.a)(e.appBar,n&&e.appBarShift)},c.a.createElement(h.a,{className:e.toolbar},c.a.createElement(V.a,{edge:"start",color:"inherit","aria-label":"Open drawer",onClick:function(){r(!0)},className:Object(u.a)(e.menuButton,n&&e.menuButtonHidden)},c.a.createElement(b.a,null)),c.a.createElement(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"RPG Discord Tools"))),c.a.createElement(pe.a,{variant:"permanent",classes:{paper:Object(u.a)(e.drawerPaper,!n&&e.drawerPaperClose)},open:n},c.a.createElement("div",{className:e.toolbarIcon},c.a.createElement(V.a,{onClick:function(){r(!1)}},c.a.createElement(y.a,null))),c.a.createElement(ge.a,null),c.a.createElement(he.a,null,c.a.createElement(O.b,{to:"/",style:{textDecoration:"none"},key:"expanse"},c.a.createElement(fe.a,null,c.a.createElement(Ee.a,null,c.a.createElement(me.a,null)),c.a.createElement(P.a,{primary:"Expanse"}))),c.a.createElement(O.b,{to:"/dnd",style:{textDecoration:"none"},key:"dnd"},c.a.createElement(fe.a,null,c.a.createElement(Ee.a,null,c.a.createElement(oe.a,null)),c.a.createElement(P.a,{primary:"DND"}))),c.a.createElement(O.b,{to:"/settings",style:{textDecoration:"none"},key:"settings"},c.a.createElement(fe.a,null,c.a.createElement(Ee.a,null,c.a.createElement(de.a,null)),c.a.createElement(P.a,{primary:"Settings"}))))),c.a.createElement("main",{className:e.content},c.a.createElement("div",{className:e.appBarSpacer}),c.a.createElement(f.a,{maxWidth:"lg",className:e.container},c.a.createElement(x.c,null,c.a.createElement(x.a,{exact:!0,path:"/",component:ie}),c.a.createElement(x.a,{exact:!0,path:"/dnd",component:U}),c.a.createElement(x.a,{exact:!0,path:"/expanse",component:ie}),c.a.createElement(x.a,{exact:!0,path:"/settings",component:te})))),c.a.createElement("footer",null,c.a.createElement(j,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye,Oe=t(41),xe=t(78),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_ROLL":return[].concat(Object(xe.a)(e),[{id:0===e.length?0:Math.max.apply(Math,Object(xe.a)(e.map(function(e){return console.log(e),e.id})))+1,name:a.name,roll:a.roll,description:a.description,character:a.character}]);case"SEND_ROLL":return e;case"REMOVE_ROLL":var t=Object.assign([],e);return t.splice(t.findIndex(function(e){return e.id===a.id}),1),t;default:return e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_DISCORD":return{apiKey:a.apiKey};default:return e}},Se=Object(Oe.b)({rolls:we,discord:je}),Ne=t(113),Re=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(a){return}}();(ye=Re?Object(Oe.c)(Se,Re):Object(Oe.c)(Se)).subscribe(Object(Ne.throttle)(function(){!function(e){try{var a=JSON.stringify(e);localStorage.setItem("state",a)}catch(t){}}(Object(n.a)({},ye.getState()))},1e3)),l.a.render(c.a.createElement(R.a,{store:ye},c.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()});var Ce=a.default=ye}},[[116,1,2]]]);
//# sourceMappingURL=main.14650903.chunk.js.map